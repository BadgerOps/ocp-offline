# airgap.yaml â€” example configuration
# Copy to /etc/airgap/airgap.yaml or ./airgap.yaml and customize

server:
  listen: "0.0.0.0:8080"
  data_dir: "/var/lib/airgap"
  db_path: "/var/lib/airgap/airgap.db"

export:
  split_size: "25GB"
  compression: "zstd"
  output_dir: "/mnt/transfer-disk"
  manifest_name: "airgap-manifest.json"

schedule:
  enabled: true
  default_cron: "0 2 * * 0"  # Weekly Sunday 2am

providers:
  epel:
    enabled: true
    repos:
      - name: "epel-9"
        base_url: "https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/"
        output_dir: "epel/9"
      - name: "epel-8"
        base_url: "https://dl.fedoraproject.org/pub/epel/8/Everything/x86_64/"
        output_dir: "epel/8"
    max_concurrent_downloads: 8
    retry_attempts: 3
    cleanup_removed_packages: true

  ocp_binaries:
    enabled: true
    base_url: "https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/"
    versions:
      - "latest-4.17"
      - "latest-4.18"
      - "latest-4.19"
    ignored_patterns:
      - "windows"
      - "mac"
      - "arm64"
      - "aarch64"
      - "ppc64le"
    output_dir: "ocp-clients"
    retry_attempts: 3

  rhcos:
    enabled: true
    base_url: "https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/"
    versions:
      - "4.17/latest"
      - "4.18/latest"
      - "4.19/latest"
    ignored_patterns:
      - "aliyun"
      - "aws"
      - "azure"
      - "gcp"
      - "ibmcloud"
      - "nutanix"
      - "openstack"
      - "vmware"
    output_dir: "rhcos"
    retry_attempts: 3

  container_images:
    enabled: false
    oc_mirror_binary: "/usr/local/bin/oc-mirror"
    imageset_config: "/etc/airgap/imageset-config.yaml"
    output_dir: "container-images"

  registry:
    enabled: false
    mirror_registry_binary: "/usr/local/bin/mirror-registry"
    quay_root: "/var/lib/quay"

  custom_files:
    enabled: false
    sources: []
